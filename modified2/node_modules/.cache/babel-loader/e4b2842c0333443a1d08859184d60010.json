{"remainingRequest":"/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/node_modules/babel-loader/lib/index.js!/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/src/components/HelloWorld.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/src/components/HelloWorld.vue","mtime":1652216534875},{"path":"/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/babel.config.js","mtime":1648391370000},{"path":"/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/node_modules/cache-loader/dist/cjs.js","mtime":1651969390112},{"path":"/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/node_modules/babel-loader/lib/index.js","mtime":1651969396060},{"path":"/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/node_modules/cache-loader/dist/cjs.js","mtime":1651969390112},{"path":"/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/node_modules/vue-loader-v16/dist/index.js","mtime":1651969390489}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zdW55aW5namluL0Rvd25sb2Fkcy9IdXlnZW5zX2FsZXdhbGxldF8xMDEtbW9kaWZ5L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCB3ZWIzIGZyb20gJ3dlYjMnOwppbXBvcnQgc2VydmljZXMgZnJvbSAiQC9hcGkiOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY291bnQ6ICIiLAogICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsCiAgICAgIGtleTogMCwKICAgICAgcmVtYWluX3Rva2VuOiAwLAogICAgICB0b2tlbnNBdmFpbGFibGU6IDc1MDAwMCwKICAgICAgdG9rZW5QcmljZTogMTAwMDAwMDAwMDAwMDAwMCwKICAgICAgYmFsYW5jZTogMAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAiJHN0b3JlLnN0YXRlLmRhcHAiOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5hY2NvdW50ID0gdmFsLmFjY291bnQ7CiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHZhbC5pc0Nvbm5lY3RlZDsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb25uZWN0OiBmdW5jdGlvbiBjb25uZWN0KCkgewogICAgICB3aW5kb3dbImFsZWVyZXVtIl0gJiYgd2luZG93WyJhbGVlcmV1bSJdLmNvbm5lY3QoKTsKICAgICAgdGhpcy5rZXkrKzsKICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7CiAgICB9LAogICAgYXBwcm92ZU1vbmV5OiBmdW5jdGlvbiBhcHByb3ZlTW9uZXkoKSB7CiAgICAgIHNlcnZpY2VzLmdldHRlc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsgLy9zZXJ2aWNlcy5hcHByb3ZlKDEwMCkudGhlbigocmVzKSA9PiB7CiAgICAgIC8vICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAvL30pOwogICAgfSwKICAgIGJ1eVRva2VuczogZnVuY3Rpb24gYnV5VG9rZW5zKCkgewogICAgICB2YXIgbnVtYmVyT2ZUb2tlbnMgPSAkKCcjbnVtYmVyT2ZUb2tlbnMnKS52YWwoKTsKICAgICAgc2VydmljZXMuYnV5X3Rva2VuKG51bWJlck9mVG9rZW5zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICQoJ2Zvcm0nKS50cmlnZ2VyKCdyZXNldCcpOwogICAgICB9KTsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY3Vycl9yZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB3aW5kb3dbImFsZWVyZXVtIl0gJiYgd2luZG93WyJhbGVlcmV1bSJdLmNvbm5lY3QoKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gc2VydmljZXMuZ2V0U29sZCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGN1cnJfcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBzZXJ2aWNlcy5nZXRCYWxhbmNlKHdpbmRvd1siYWxlZXJldW0iXS5hY2NvdW50KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzLmJhbGFuY2UgPSByZXM7CiAgICAgICAgICAgICAgICAkKCcubG90LWJhbGFuY2UnKS5odG1sKF90aGlzLmJhbGFuY2UudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYmFsYW5jZSAgICIgKyBfdGhpcy5iYWxhbmNlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY3Vycl9yZXMiKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjdXJyX3Jlcyk7CiAgICAgICAgICAgICAgc2VydmljZXMuZ2V0U29sZCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgX3RoaXMucmVtYWluX3Rva2VuID0gX3RoaXMudG9rZW5zQXZhaWxhYmxlIC0gcmVzOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlcyIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICQoJyNhY2NvdW50QWRkcmVzcycpLmh0bWwoIllvdXIgQWNjb3VudDogIiArIHdpbmRvd1siYWxlZXJldW0iXS5hY2NvdW50KTsKICAgICAgICAgICAgICAgICQoJy50b2tlbi1wcmljZScpLmh0bWwod2ViMy51dGlscy5mcm9tV2VpKF90aGlzLnRva2VuUHJpY2UudG9TdHJpbmcoKSwgImV0aGVyIikpOwogICAgICAgICAgICAgICAgJCgnLnRva2Vucy1zb2xkJykuaHRtbChyZXMudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAkKCcudG9rZW5zLWF2YWlsYWJsZScpLmh0bWwoX3RoaXMucmVtYWluX3Rva2VuKTsKICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzc1BlcmNlbnQgPSBNYXRoLmNlaWwocmVzKSAvIF90aGlzLnRva2Vuc0F2YWlsYWJsZSAqIDEwMDsKICAgICAgICAgICAgICAgICQoJyNwcm9ncmVzcycpLmNzcygnd2lkdGgnLCBwcm9ncmVzc1BlcmNlbnQgKyAnJScpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICQoJyNidXlfZm9ybScpLnN1Ym1pdChmdW5jdGlvbiAoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBfdGhpczIuYnV5VG9rZW5zKCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"mappings":";;;;AAwDA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,QAAP,MAAqB,OAArB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,eAAe;AACbC,MADa,kBACN;AACL,WAAO;AACLC,aAAO,EAAE,EADJ;AAELC,iBAAW,EAAE,KAFR;AAGLC,SAAG,EAAC,CAHC;AAILC,kBAAY,EAAC,CAJR;AAKLC,qBAAe,EAAE,MALZ;AAMLC,gBAAU,EAAE,gBANP;AAOLC,aAAO,EAAC;AAPH,KAAP;AASD,GAXY;AAYbC,OAAK,EAAE;AACL,yBAAqB;AACnBC,aADmB,mBACXC,GADW,EACN;AACX,aAAKT,OAAL,GAAeS,GAAG,CAACT,OAAnB;AACA,aAAKC,WAAL,GAAmBQ,GAAG,CAACR,WAAvB;AACD,OAJkB;AAKnBS,eAAS,EAAE,IALQ;AAMnBC,UAAI,EAAE;AANa;AADhB,GAZM;AAsBbC,SAAO,EAAE;AACPC,WADO,qBACG;AACRC,YAAM,CAAC,UAAD,CAAN,IAAsBA,MAAM,CAAC,UAAD,CAAN,CAAmBD,OAAnB,EAAtB;AACA,WAAKX,GAAL;AACA,WAAKD,WAAL,GAAiB,IAAjB;AACD,KALM;AAMPc,gBANO,0BAMQ;AACblB,cAAQ,CAACmB,OAAT,GAAmBC,IAAnB,CAAwB,aAAE,EAAK;AAE7BC,eAAO,CAACC,GAAR,CAAYC,GAAZ;AACD,OAHD,EADa,CAKb;AACA;AACA;AACD,KAdM;AAePC,aAfO,uBAeK;AACV,UAAIC,cAAa,GAAIxB,CAAC,CAAC,iBAAD,CAAD,CAAqBW,GAArB,EAArB;AAEAZ,cAAQ,CAAC0B,SAAT,CAAmBD,cAAnB,EAAmCL,IAAnC,CAAwC,UAACG,GAAD,EAAS;AAC/CF,eAAO,CAACC,GAAR,CAAYC,GAAZ;AACAtB,SAAC,CAAC,MAAD,CAAD,CAAU0B,OAAV,CAAkB,OAAlB;AACD,OAHD;AAIAC,cAAQ,CAACC,MAAT;AACD;AAvBM,GAtBI;AAgDPC,SAhDO,qBAgDE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACXb,oBAAM,CAAC,UAAD,CAAN,IAAsBA,MAAM,CAAC,UAAD,CAAN,CAAmBD,OAAnB,EAAtB;AADW;AAAA,qBAEQhB,QAAQ,CAAC+B,OAAT,EAFR;;AAAA;AAEPC,sBAFO;AAGXhC,sBAAQ,CAACiC,UAAT,CAAoBhB,MAAM,CAAC,UAAD,CAAN,CAAmBd,OAAvC,EAAgDiB,IAAhD,CAAqD,aAAG,EAAE;AACxD,qBAAI,CAACX,OAAL,GAAac,GAAb;AACAtB,iBAAC,CAAC,cAAD,CAAD,CAAkBiC,IAAlB,CAAuB,KAAI,CAACzB,OAAL,CAAa0B,QAAb,EAAvB;AACAd,uBAAO,CAACC,GAAR,CAAY,eAAa,KAAI,CAACb,OAA9B;AACD,eAJD;AAOAY,qBAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,qBAAO,CAACC,GAAR,CAAYU,QAAZ;AACAhC,sBAAQ,CAAC+B,OAAT,GAAmBX,IAAnB,CAAwB,aAAE,EAAK;AAC7B,qBAAI,CAACd,YAAL,GAAkB,KAAI,CAACC,eAAL,GAAqBgB,GAAvC;AACAF,uBAAO,CAACC,GAAR,CAAY,KAAZ;AACAD,uBAAO,CAACC,GAAR,CAAYC,GAAZ;AACAtB,iBAAC,CAAC,iBAAD,CAAD,CAAqBiC,IAArB,CAA0B,mBAAmBjB,MAAM,CAAC,UAAD,CAAN,CAAmBd,OAAhE;AACAF,iBAAC,CAAC,cAAD,CAAD,CAAkBiC,IAAlB,CAAuBnC,IAAI,CAACqC,KAAL,CAAWC,OAAX,CAAmB,KAAI,CAAC7B,UAAL,CAAgB2B,QAAhB,EAAnB,EAA+C,OAA/C,CAAvB;AAEAlC,iBAAC,CAAC,cAAD,CAAD,CAAkBiC,IAAlB,CAAuBX,GAAG,CAACY,QAAJ,EAAvB;AACAlC,iBAAC,CAAC,mBAAD,CAAD,CAAuBiC,IAAvB,CAA4B,KAAI,CAAC5B,YAAjC;AACA,oBAAIgC,eAAc,GAAKC,IAAI,CAACC,IAAL,CAAUjB,GAAV,IAAiB,KAAI,CAAChB,eAAvB,GAA0C,GAAhE;AACAN,iBAAC,CAAC,WAAD,CAAD,CAAewC,GAAf,CAAmB,OAAnB,EAA4BH,eAAc,GAAI,GAA9C;AAED,eAZD;;AAZW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2Bd,GA3EY;AA4EbI,SA5Ea,qBA4EJ;AAAA;;AACPzC,KAAC,CAAC,WAAD,CAAD,CAAe0C,MAAf,CAAsB,UAACC,CAAD,EAAK;AACzBA,OAAC,CAACC,cAAF;;AACA,YAAI,CAACrB,SAAL;AACD,KAHD;AAIF;AAjFa,CAAf","names":["web3","services","$","data","account","isConnected","key","remain_token","tokensAvailable","tokenPrice","balance","watch","handler","val","immediate","deep","methods","connect","window","approveMoney","gettest","then","console","log","res","buyTokens","numberOfTokens","buy_token","trigger","location","reload","created","getSold","curr_res","getBalance","html","toString","utils","fromWei","progressPercent","Math","ceil","css","mounted","submit","e","preventDefault"],"sourceRoot":"","sources":["/Users/sunyingjin/Downloads/Huygens_alewallet_101-modify/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n\n\n\n<div class=\"container\" :key=\"menuKey\" style=\"width: 650px;\">\n\n  <div class=\"hello\">\n    <h1 v-show=\"isConnected\">{{ account }}</h1>\n    <button v-show=\"!isConnected\" @click=\"connect\">Connect Ale</button>\n    <div style=\"color: #f00\" v-show=\"isConnected\">Connect Success!</div>\n    <button v-show=\"isConnected\" @click=\"approveMoney\">approve $100</button>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-lg-12\">\n        <h1 class=\"text-center\">LOT TOKEN ICO SALE</h1>\n        <div>\n          <button @click=\"buyTokens2\" >Connect to Wallet</button>\n        </div>\n        <hr/>\n        <br/>\n    </div>\n    <div id=\"content\" class=\"text-center\">\n      <p>\n        Introducing \"Lot Token\"!\n        Token price is <span class=\"token-price\"></span> Ether. You currently have <span class=\"lot-balance\"></span>&nbsp;Lot.\n      </p>\n      <br/>\n      <form id=\"buy_form\"  role=\"form\">\n      <!-- <form role = \"form\"> -->\n        <div class=\"form-group\">\n          <div class=\"input-group\">\n            <input id=\"numberOfTokens\" class=\"form-control input-lg\" type=\"number\" name=\"number\" value=\"1\" min=\"1\" pattern=\"[0-9]\">\n            <span class=\"input-group-btn\">\n              <button type=\"submit\" class=\"btn btn-primary btn-lg\" >Buy Tokens</button>\n            </span>\n          </div>\n        </div>\n      </form>\n      <br>\n       <div class=\"progress\">\n          <div id=\"progress\" class=\"progress-bar progress-bar-striped active\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n          </div>\n        </div>\n      <p><span class=\"tokens-sold\"></span> / <span class=\"tokens-available\"></span> tokens sold</p>\n      <hr>\n      <p id=\"accountAddress\"></p>\n    </div>\n  </div>\n</div>\n\n\n\n</template>\n\n<script>\nimport web3 from 'web3'\nimport services from \"@/api\";\nimport $ from 'jquery'\nexport default {\n  data() {\n    return {\n      account: \"\",\n      isConnected: false,\n      key:0,\n      remain_token:0,\n      tokensAvailable: 750000,\n      tokenPrice: 1000000000000000,\n      balance:0\n    };\n  },\n  watch: {\n    \"$store.state.dapp\": {\n      handler(val) {\n        this.account = val.account;\n        this.isConnected = val.isConnected;\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n  methods: {\n    connect() {\n      window[\"aleereum\"] && window[\"aleereum\"].connect();\n      this.key++;\n      this.isConnected=true;\n    },\n    approveMoney() {\n      services.gettest().then(res => {\n\n        console.log(res);\n      });\n      //services.approve(100).then((res) => {\n      //  console.log(res);\n      //});\n    },\n    buyTokens() {\n      var numberOfTokens = $('#numberOfTokens').val();\n\n      services.buy_token(numberOfTokens).then((res) => {\n        console.log(res);\n        $('form').trigger('reset')\n      });\n      location.reload();\n    },\n\n  },\n  async created(){\n      window[\"aleereum\"] && window[\"aleereum\"].connect();\n      let curr_res=await services.getSold();\n      services.getBalance(window[\"aleereum\"].account).then(res=>{\n        this.balance=res\n        $('.lot-balance').html(this.balance.toString());\n        console.log(\"balance   \"+this.balance)\n      });\n      \n      \n      console.log(\"curr_res\")\n      console.log(curr_res)\n      services.getSold().then(res => {\n        this.remain_token=this.tokensAvailable-res;\n        console.log(\"res\")\n        console.log(res)\n        $('#accountAddress').html(\"Your Account: \" + window[\"aleereum\"].account);\n        $('.token-price').html(web3.utils.fromWei(this.tokenPrice.toString(), \"ether\"));\n        \n        $('.tokens-sold').html(res.toString());\n        $('.tokens-available').html(this.remain_token);\n        var progressPercent = (Math.ceil(res) / this.tokensAvailable) * 100;\n        $('#progress').css('width', progressPercent + '%');\n\n      });\n\n\n  },\n  mounted(){\n    $('#buy_form').submit((e)=>{\n      e.preventDefault();\n      this.buyTokens();\n    })\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}